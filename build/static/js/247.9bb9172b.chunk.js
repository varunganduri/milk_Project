"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[247],{8247:(e,t,s)=>{s.r(t),s.d(t,{default:()=>g});var n=s(5043),a=s(3216),o=s(5475),r=s(3910),i=s(7929),l=s(579);const c=function(e){let{userName:t,onLogout:s}=e;const[c,h]=(0,n.useState)(!1),d=(0,a.zy)(),b=e=>d.pathname===e;return(0,l.jsx)("nav",{className:"admin-navbar-b25",children:(0,l.jsxs)("div",{className:"navbar-content-b25",children:[(0,l.jsxs)("div",{className:"user-name-b25",children:["Welcome ",t]}),(0,l.jsxs)("div",{className:"menu-buttons-b25",children:[(0,l.jsx)(o.N_,{to:"/bbrands",className:"menu-button-b25 "+(b("/bbrands")?"active":""),children:"Home"}),(0,l.jsx)(o.N_,{to:"/bsupplier",className:"menu-button-b25 "+(b("/bsupplier")?"active":""),children:"Supplier"}),(0,l.jsx)(o.N_,{to:"/bView-Cart",className:"menu-button-b25 "+(b("/bView-Cart")?"active":""),children:"Cart"}),(0,l.jsx)(o.N_,{to:"/border-history",className:"menu-button-b25 "+(b("/border-history")?"active":""),children:"Order History"}),(0,l.jsxs)("div",{className:"profile-icon-b25",onClick:()=>{h(!c)},children:[(0,l.jsx)(r.g,{icon:i.VFr,size:"xl"}),c&&(0,l.jsxs)("div",{className:"dropdown-b25",children:[(0,l.jsx)("div",{className:"dropdown-item-b25",children:t}),(0,l.jsx)("div",{className:"dropdown-item-b25",onClick:s,children:"Logout"})]})]})]})]})})},h=(0,n.lazy)((()=>s.e(775).then(s.bind(s,3775)))),d=(0,n.lazy)((()=>s.e(630).then(s.bind(s,8249)))),b=(0,n.lazy)((()=>s.e(799).then(s.bind(s,3799)))),m=(0,n.lazy)((()=>s.e(734).then(s.bind(s,6734)))),u=(0,n.lazy)((()=>s.e(323).then(s.bind(s,1323)))),j=(0,n.lazy)((()=>s.e(523).then(s.bind(s,4523)))),x=(0,n.lazy)((()=>s.e(407).then(s.bind(s,5407)))),p=(0,n.lazy)((()=>s.e(298).then(s.bind(s,6298)))),g=()=>{const[e,t]=(0,n.useState)({username:"",mobile_number:""}),[s,o]=(0,n.useState)(!!localStorage.getItem("authToken")),[r,i]=(0,n.useState)(null);(0,n.useEffect)((()=>{s&&(async()=>{const e=localStorage.getItem("authToken");try{const s=await fetch("https://prasad-gz5p.onrender.com/api/user/details/",{headers:{Authorization:`Token ${e}`}});if(!s.ok)throw new Error("Failed to fetch customer details");const n=await s.json();t({username:n.username,mobile_number:n.mobile_number})}catch(r){i(r.message)}})()}),[s]);return(0,l.jsxs)(l.Fragment,{children:[s&&(0,l.jsx)(c,{userName:e.username,onLogout:async()=>{const e=localStorage.getItem("authToken");try{await fetch("https://prasad-gz5p.onrender.com/api/logout/",{method:"POST",headers:{Authorization:`Token ${e}`,"Content-Type":"application/json"}}),localStorage.removeItem("authToken"),o(!1)}catch(r){console.error("Logout failed:",r)}},className:"nav-styles"}),(0,l.jsx)(n.Suspense,{fallback:(0,l.jsx)("div",{children:"Loading..."}),children:(0,l.jsxs)(a.BV,{children:[(0,l.jsx)(a.qh,{path:"/",element:(0,l.jsx)(a.C5,{to:s?"/bbrands":"/login"})}),(0,l.jsx)(a.qh,{path:"/login",element:s?(0,l.jsx)(a.C5,{to:"/bbrands"}):(0,l.jsx)(d,{onLoginSuccess:()=>{o(!0)}})}),(0,l.jsx)(a.qh,{path:"/register",element:(0,l.jsx)(h,{})}),(0,l.jsx)(a.qh,{path:"/bbrands",element:s?(0,l.jsx)(j,{}):(0,l.jsx)(a.C5,{to:"/login"})}),(0,l.jsx)(a.qh,{path:"/border-history",element:s?(0,l.jsx)(p,{}):(0,l.jsx)(a.C5,{to:"/login"})}),(0,l.jsx)(a.qh,{path:"/bView-Cart",element:s?(0,l.jsx)(b,{}):(0,l.jsx)(a.C5,{to:"/login"})}),(0,l.jsx)(a.qh,{path:"/bcheckout",element:s?(0,l.jsx)(m,{}):(0,l.jsx)(a.C5,{to:"/login"})}),(0,l.jsx)(a.qh,{path:"/binvoice",element:s?(0,l.jsx)(u,{}):(0,l.jsx)(a.C5,{to:"/login"})}),(0,l.jsx)(a.qh,{path:"/bsupplier",element:s?(0,l.jsx)(x,{}):(0,l.jsx)(a.C5,{to:"/login"})})]})})]})}}}]);
//# sourceMappingURL=247.9bb9172b.chunk.js.map