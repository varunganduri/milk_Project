"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[227],{4227:(s,e,a)=>{a.r(e),a.d(e,{default:()=>n});var t=a(5043),r=a(4220),c=a(579);const n=()=>{const[s,e]=(0,t.useState)([]),[a,n]=(0,t.useState)(!0),[d,o]=(0,t.useState)(null),[l,i]=(0,t.useState)(""),[u,h]=(0,t.useState)([]),[m,p]=(0,t.useState)(null),[j,x]=(0,t.useState)(!1),[N,b]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{const s=localStorage.getItem("authToken");n(!0);try{const a=await fetch("https://prasad-gz5p.onrender.com/api/brands/",{headers:{Authorization:`Token ${s}`}});if(!a.ok)throw new Error("Failed to fetch brands data");const t=await a.json();e(t)}catch(d){o(d.message)}finally{n(!1)}})()}),[]);const g=s=>{(async s=>{x(!0);try{const e=await fetch("https://prasad-gz5p.onrender.com/api/products/");if(!e.ok)throw new Error("Network response was not ok");const a=(await e.json()).filter((e=>e.brandID===s));h(a),p(s),b(!0)}catch(e){o(e.message)}finally{x(!1)}})(s)};if(a)return(0,c.jsx)("div",{className:"loading-message",children:(0,c.jsx)(r.A,{})});if(d)return(0,c.jsxs)("div",{className:"error-message",children:["Error: ",d]});const f=s.filter((s=>s.brandName.toLowerCase().includes(l.toLowerCase())));return(0,c.jsx)("div",{className:"brand-list-container",children:N?(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"back-button-cont1000",children:[(0,c.jsx)("button",{className:"back-button1000",onClick:()=>{b(!1),h([]),p(null)},children:"Back"}),(0,c.jsxs)("h2",{className:"product-head-1000",children:["Products for Brand ID: ",m]})]}),(0,c.jsx)("div",{className:"product-list-card-container1000",children:u.map((s=>(0,c.jsxs)("div",{className:"product-list-card1000",children:[(0,c.jsx)("img",{src:s.productImage,alt:s.productCategory,className:"product-list-image1000"}),(0,c.jsx)("h2",{className:"product-list-title1000",children:s.productCategory}),(0,c.jsx)("p",{className:"product-list-description1000",children:s.productDescription}),(0,c.jsxs)("p",{className:"product-list-volume1000",children:["Volume: ",s.productVolume]}),(0,c.jsxs)("p",{className:"product-list-price1000",children:["Price: ",s.productPrice]})]},s.productID)))})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{className:"brand-list-title",children:"Brand List"}),(0,c.jsx)("input",{type:"text",placeholder:"Search brands...",className:"search-bar",value:l,onChange:s=>i(s.target.value)}),(0,c.jsx)("div",{className:"card-container",children:f.map((s=>(0,c.jsxs)("div",{className:"brand-card",children:[(0,c.jsx)("div",{className:"logo-container",children:(0,c.jsx)("img",{src:s.brandLogo,alt:s.brandName,className:"brand-logo"})}),(0,c.jsx)("h2",{className:"brand-name",children:s.brandName}),(0,c.jsx)("button",{className:"update-button",onClick:()=>g(s.brandID),children:"View Products"})]},s.brandID)))})]})})}},4220:(s,e,a)=>{a.d(e,{A:()=>r});a(5043);var t=a(579);const r=()=>(0,t.jsx)("div",{className:"dot-spinner",children:Array.from({length:8},((s,e)=>(0,t.jsx)("div",{className:`dot-spinner__dot dot-spinner__dot--${e+1}`},e)))})}}]);
//# sourceMappingURL=227.633eca6d.chunk.js.map